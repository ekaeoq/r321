{"version":3,"names":["caps","butt","square","round","joins","miter","bevel","vectorEffects","none","default","nonScalingStroke","inherit","uri","extractStroke","o","props","inherited","stroke","strokeOpacity","strokeLinecap","strokeLinejoin","strokeDasharray","strokeWidth","strokeDashoffset","strokeMiterlimit","vectorEffect","push","extractBrush","String","extractOpacity","strokeDash","extractLengthList","length","concat","parseFloat"],"sources":["extractStroke.ts"],"sourcesContent":["import extractBrush from './extractBrush';\nimport extractOpacity from './extractOpacity';\nimport extractLengthList from './extractLengthList';\nimport { extractedProps, StrokeProps } from './types';\n\nconst caps = {\n  butt: 0,\n  square: 2,\n  round: 1,\n};\n\nconst joins = {\n  miter: 0,\n  bevel: 2,\n  round: 1,\n};\n\nconst vectorEffects = {\n  none: 0,\n  default: 0,\n  nonScalingStroke: 1,\n  'non-scaling-stroke': 1,\n  inherit: 2,\n  uri: 3,\n};\n\nexport default function extractStroke(\n  o: extractedProps,\n  props: StrokeProps,\n  inherited: string[],\n) {\n  const {\n    stroke,\n    strokeOpacity,\n    strokeLinecap,\n    strokeLinejoin,\n    strokeDasharray,\n    strokeWidth,\n    strokeDashoffset,\n    strokeMiterlimit,\n    vectorEffect,\n  } = props;\n\n  if (stroke != null) {\n    inherited.push('stroke');\n    o.stroke = extractBrush(stroke);\n  }\n  if (strokeWidth != null) {\n    inherited.push('strokeWidth');\n    o.strokeWidth = String(strokeWidth);\n  }\n  if (strokeOpacity != null) {\n    inherited.push('strokeOpacity');\n    o.strokeOpacity = extractOpacity(strokeOpacity);\n  }\n  if (strokeDasharray != null) {\n    inherited.push('strokeDasharray');\n    const strokeDash =\n      !strokeDasharray || strokeDasharray === 'none'\n        ? null\n        : extractLengthList(strokeDasharray);\n    o.strokeDasharray =\n      strokeDash && strokeDash.length % 2 === 1\n        ? strokeDash.concat(strokeDash)\n        : strokeDash;\n  }\n  if (strokeDashoffset != null) {\n    inherited.push('strokeDashoffset');\n    o.strokeDashoffset =\n      strokeDasharray && strokeDashoffset ? +strokeDashoffset || 0 : null;\n  }\n  if (strokeLinecap != null) {\n    inherited.push('strokeLinecap');\n    o.strokeLinecap = (strokeLinecap && caps[strokeLinecap]) || 0;\n  }\n  if (strokeLinejoin != null) {\n    inherited.push('strokeLinejoin');\n    o.strokeLinejoin = (strokeLinejoin && joins[strokeLinejoin]) || 0;\n  }\n  if (strokeMiterlimit != null) {\n    inherited.push('strokeMiterlimit');\n    o.strokeMiterlimit =\n      (strokeMiterlimit && typeof strokeMiterlimit !== 'number'\n        ? parseFloat(strokeMiterlimit)\n        : strokeMiterlimit) || 4;\n  }\n  if (vectorEffect != null) {\n    o.vectorEffect = (vectorEffect && vectorEffects[vectorEffect]) || 0;\n  }\n}\n"],"mappings":"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"}