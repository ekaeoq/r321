{"version":3,"names":["TextPath","props","matrix","extractTransform","Object","assign","pickNotNil","extractText","root","setNativeProps","children","xlinkHref","href","startOffset","method","spacing","side","alignmentBaseline","midLine","prop","matched","match","idPattern","withoutXY","String","ref","refMethod","console","warn","Shape"],"sources":["TextPath.tsx"],"sourcesContent":["import React, { Component } from 'react';\nimport extractTransform from '../lib/extract/extractTransform';\nimport { withoutXY } from '../lib/extract/extractProps';\nimport {\n  ColumnMajorTransformMatrix,\n  NumberProp,\n  TextPathMethod,\n  TextPathMidLine,\n  TextPathSpacing,\n  TextSpecificProps,\n  TransformProps,\n} from '../lib/extract/types';\nimport extractText, { TextChild } from '../lib/extract/extractText';\nimport { idPattern, pickNotNil } from '../lib/util';\nimport Shape from './Shape';\nimport TSpan from './TSpan';\nimport { RNSVGTextPath } from '../ReactNativeSVG';\n\nexport interface TextPathProps extends TextSpecificProps {\n  children?: TextChild;\n  xlinkHref?: string;\n  href?: string;\n  startOffset?: NumberProp;\n  method?: TextPathMethod;\n  spacing?: TextPathSpacing;\n  midLine?: TextPathMidLine;\n  side?: string;\n}\n\nexport default class TextPath extends Shape<TextPathProps> {\n  static displayName = 'TextPath';\n\n  setNativeProps = (\n    props: Object & {\n      matrix?: ColumnMajorTransformMatrix;\n      style?: [] | {};\n    } & TransformProps,\n  ) => {\n    const matrix = !props.matrix && extractTransform(props);\n    if (matrix) {\n      props.matrix = matrix;\n    }\n    Object.assign(props, pickNotNil(extractText(props, true)));\n    this.root && this.root.setNativeProps(props);\n  };\n\n  render() {\n    const {\n      children,\n      xlinkHref,\n      href = xlinkHref,\n      startOffset = 0,\n      method,\n      spacing,\n      side,\n      alignmentBaseline,\n      midLine,\n      ...prop\n    } = this.props;\n    const matched = href && href.match(idPattern);\n    const match = matched && matched[1];\n    if (match) {\n      const props = withoutXY(this, prop);\n      Object.assign(\n        props,\n        extractText(\n          {\n            children,\n          },\n          true,\n        ),\n        {\n          href: match,\n          startOffset: startOffset === null ? null : String(startOffset),\n          method,\n          spacing,\n          side,\n          alignmentBaseline,\n          midLine,\n        },\n      );\n      props.ref = this.refMethod as (instance: Component | null) => void;\n      return <RNSVGTextPath {...props} />;\n    }\n\n    console.warn(\n      'Invalid `href` prop for `TextPath` element, expected a href like \"#id\", but got: \"' +\n        href +\n        '\"',\n    );\n    return (\n      <TSpan ref={this.refMethod as (instance: Component | null) => void}>\n        {children}\n      </TSpan>\n    );\n  }\n}\n"],"mappings":"ugCAAA,oDACA,yFACA,yDAUA,+EACA,iCACA,uDACA,sDACA,iDAAkD,g7BAa7BA,SAAQ,2ZAGV,SACfC,KAGkB,CACf,CACH,GAAMC,OAAM,CAAG,CAACD,KAAK,CAACC,MAAM,EAAI,GAAAC,yBAAgB,EAACF,KAAK,CAAC,CACvD,GAAIC,MAAM,CAAE,CACVD,KAAK,CAACC,MAAM,CAAGA,MAAM,CACvB,CACAE,MAAM,CAACC,MAAM,CAACJ,KAAK,CAAE,GAAAK,gBAAU,EAAC,GAAAC,oBAAW,EAACN,KAAK,CAAE,IAAI,CAAC,CAAC,CAAC,CAC1D,MAAKO,IAAI,EAAI,MAAKA,IAAI,CAACC,cAAc,CAACR,KAAK,CAAC,CAC9C,CAAC,wEAED,iBAAS,CACP,gBAWI,IAAI,CAACA,KAAK,CAVZS,QAAQ,aAARA,QAAQ,CACRC,SAAS,aAATA,SAAS,8BACTC,IAAI,CAAJA,IAAI,2BAAGD,SAAS,oDAChBE,WAAW,CAAXA,WAAW,gCAAG,CAAC,uBACfC,MAAM,aAANA,MAAM,CACNC,OAAO,aAAPA,OAAO,CACPC,IAAI,aAAJA,IAAI,CACJC,iBAAiB,aAAjBA,iBAAiB,CACjBC,OAAO,aAAPA,OAAO,CACJC,IAAI,8DAET,GAAMC,QAAO,CAAGR,IAAI,EAAIA,IAAI,CAACS,KAAK,CAACC,eAAS,CAAC,CAC7C,GAAMD,MAAK,CAAGD,OAAO,EAAIA,OAAO,CAAC,CAAC,CAAC,CACnC,GAAIC,KAAK,CAAE,CACT,GAAMpB,MAAK,CAAG,GAAAsB,uBAAS,EAAC,IAAI,CAAEJ,IAAI,CAAC,CACnCf,MAAM,CAACC,MAAM,CACXJ,KAAK,CACL,GAAAM,oBAAW,EACT,CACEG,QAAQ,CAARA,QACF,CAAC,CACD,IAAI,CACL,CACD,CACEE,IAAI,CAAES,KAAK,CACXR,WAAW,CAAEA,WAAW,GAAK,IAAI,CAAG,IAAI,CAAGW,MAAM,CAACX,WAAW,CAAC,CAC9DC,MAAM,CAANA,MAAM,CACNC,OAAO,CAAPA,OAAO,CACPC,IAAI,CAAJA,IAAI,CACJC,iBAAiB,CAAjBA,iBAAiB,CACjBC,OAAO,CAAPA,OACF,CAAC,CACF,CACDjB,KAAK,CAACwB,GAAG,CAAG,IAAI,CAACC,SAAiD,CAClE,MAAO,8BAAC,6BAAa,0BAAKzB,KAAK,+EAAI,CACrC,CAEA0B,OAAO,CAACC,IAAI,CACV,oFAAoF,CAClFhB,IAAI,CACJ,GAAG,CACN,CACD,MACE,8BAAC,cAAK,EAAC,GAAG,CAAE,IAAI,CAACc,SAAkD,4EAChEhB,QAAQ,CACH,CAEZ,CAAC,sBAlEmCmB,eAAK,wDAAtB7B,QAAQ,eACN,UAAU"}