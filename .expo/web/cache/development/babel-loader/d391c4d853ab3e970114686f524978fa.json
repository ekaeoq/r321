{"ast":null,"code":"import * as React from 'react';\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nexport default function useKeyboardManager(isEnabled) {\n  var previouslyFocusedTextInputRef = React.useRef(undefined);\n  var startTimestampRef = React.useRef(0);\n  var keyboardTimeoutRef = React.useRef();\n  var clearKeyboardTimeout = React.useCallback(function () {\n    if (keyboardTimeoutRef.current !== undefined) {\n      clearTimeout(keyboardTimeoutRef.current);\n      keyboardTimeoutRef.current = undefined;\n    }\n  }, []);\n  var onPageChangeStart = React.useCallback(function () {\n    if (!isEnabled()) {\n      return;\n    }\n    clearKeyboardTimeout();\n    var input = TextInput.State.currentlyFocusedInput();\n\n    input === null || input === void 0 ? void 0 : input.blur();\n\n    previouslyFocusedTextInputRef.current = input;\n\n    startTimestampRef.current = Date.now();\n  }, [clearKeyboardTimeout, isEnabled]);\n  var onPageChangeConfirm = React.useCallback(function (force) {\n    if (!isEnabled()) {\n      return;\n    }\n    clearKeyboardTimeout();\n    if (force) {\n      Keyboard.dismiss();\n    } else {\n      var input = previouslyFocusedTextInputRef.current;\n\n      input === null || input === void 0 ? void 0 : input.blur();\n    }\n\n    previouslyFocusedTextInputRef.current = undefined;\n  }, [clearKeyboardTimeout, isEnabled]);\n  var onPageChangeCancel = React.useCallback(function () {\n    if (!isEnabled()) {\n      return;\n    }\n    clearKeyboardTimeout();\n\n    var input = previouslyFocusedTextInputRef.current;\n    if (input) {\n\n      if (Date.now() - startTimestampRef.current < 100) {\n        keyboardTimeoutRef.current = setTimeout(function () {\n          input === null || input === void 0 ? void 0 : input.focus();\n          previouslyFocusedTextInputRef.current = undefined;\n        }, 100);\n      } else {\n        input === null || input === void 0 ? void 0 : input.focus();\n        previouslyFocusedTextInputRef.current = undefined;\n      }\n    }\n  }, [clearKeyboardTimeout, isEnabled]);\n  React.useEffect(function () {\n    return function () {\n      return clearKeyboardTimeout();\n    };\n  }, [clearKeyboardTimeout]);\n  return {\n    onPageChangeStart: onPageChangeStart,\n    onPageChangeConfirm: onPageChangeConfirm,\n    onPageChangeCancel: onPageChangeCancel\n  };\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAAA;AAAA;AAK9B,eAAe,SAASC,kBAAkB,CAACC,SAAwB,EAAE;EAGnE,IAAMC,6BAA6B,GAAGH,KAAK,CAACI,MAAM,CAAWC,SAAS,CAAC;EACvE,IAAMC,iBAAiB,GAAGN,KAAK,CAACI,MAAM,CAAS,CAAC,CAAC;EACjD,IAAMG,kBAAkB,GAAGP,KAAK,CAACI,MAAM,EAAO;EAE9C,IAAMI,oBAAoB,GAAGR,KAAK,CAACS,WAAW,CAAC,YAAM;IACnD,IAAIF,kBAAkB,CAACG,OAAO,KAAKL,SAAS,EAAE;MAC5CM,YAAY,CAACJ,kBAAkB,CAACG,OAAO,CAAC;MACxCH,kBAAkB,CAACG,OAAO,GAAGL,SAAS;IACxC;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMO,iBAAiB,GAAGZ,KAAK,CAACS,WAAW,CAAC,YAAM;IAChD,IAAI,CAACP,SAAS,EAAE,EAAE;MAChB;IACF;IAEAM,oBAAoB,EAAE;IAEtB,IAAMK,KAAe,GAAGC,SAAS,CAACC,KAAK,CAACC,qBAAqB,EAAE;;IAG/DH,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEI,IAAI,EAAE;;IAGbd,6BAA6B,CAACO,OAAO,GAAGG,KAAK;;IAG7CP,iBAAiB,CAACI,OAAO,GAAGQ,IAAI,CAACC,GAAG,EAAE;EACxC,CAAC,EAAE,CAACX,oBAAoB,EAAEN,SAAS,CAAC,CAAC;EAErC,IAAMkB,mBAAmB,GAAGpB,KAAK,CAACS,WAAW,CAC1CY,eAAc,EAAK;IAClB,IAAI,CAACnB,SAAS,EAAE,EAAE;MAChB;IACF;IAEAM,oBAAoB,EAAE;IAEtB,IAAIa,KAAK,EAAE;MAITC,QAAQ,CAACC,OAAO,EAAE;IACpB,CAAC,MAAM;MACL,IAAMV,KAAK,GAAGV,6BAA6B,CAACO,OAAO;;MAInDG,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEI,IAAI,EAAE;IACf;;IAGAd,6BAA6B,CAACO,OAAO,GAAGL,SAAS;EACnD,CAAC,EACD,CAACG,oBAAoB,EAAEN,SAAS,CAAC,CAClC;EAED,IAAMsB,kBAAkB,GAAGxB,KAAK,CAACS,WAAW,CAAC,YAAM;IACjD,IAAI,CAACP,SAAS,EAAE,EAAE;MAChB;IACF;IAEAM,oBAAoB,EAAE;;IAGtB,IAAMK,KAAK,GAAGV,6BAA6B,CAACO,OAAO;IAEnD,IAAIG,KAAK,EAAE;;MAQT,IAAIK,IAAI,CAACC,GAAG,EAAE,GAAGb,iBAAiB,CAACI,OAAO,GAAG,GAAG,EAAE;QAChDH,kBAAkB,CAACG,OAAO,GAAGe,UAAU,CAAC,YAAM;UAC5CZ,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEa,KAAK,EAAE;UACdvB,6BAA6B,CAACO,OAAO,GAAGL,SAAS;QACnD,CAAC,EAAE,GAAG,CAAC;MACT,CAAC,MAAM;QACLQ,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEa,KAAK,EAAE;QACdvB,6BAA6B,CAACO,OAAO,GAAGL,SAAS;MACnD;IACF;EACF,CAAC,EAAE,CAACG,oBAAoB,EAAEN,SAAS,CAAC,CAAC;EAErCF,KAAK,CAAC2B,SAAS,CAAC,YAAM;IACpB,OAAO;MAAA,OAAMnB,oBAAoB,EAAE;IAAA;EACrC,CAAC,EAAE,CAACA,oBAAoB,CAAC,CAAC;EAE1B,OAAO;IACLI,iBAAiB,EAAjBA,iBAAiB;IACjBQ,mBAAmB,EAAnBA,mBAAmB;IACnBI;EACF,CAAC;AACH","names":["React","useKeyboardManager","isEnabled","previouslyFocusedTextInputRef","useRef","undefined","startTimestampRef","keyboardTimeoutRef","clearKeyboardTimeout","useCallback","current","clearTimeout","onPageChangeStart","input","TextInput","State","currentlyFocusedInput","blur","Date","now","onPageChangeConfirm","force","Keyboard","dismiss","onPageChangeCancel","setTimeout","focus","useEffect"],"sourceRoot":"../../src","sources":["useKeyboardManager.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}